-----------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/marcosdemetry/Dropbox/IFN/Programming/Stata_projects/BIT_FDI//output/logs/calcula
> ting_bit_fdi.log
  log type:  text
 opened on:   1 Oct 2020, 12:48:29

. 
. use "${unctd_final}/bit_fdi", clear

. 
. ** Outstock **
. * Total
. bysort host: egen total_out = total(outstock)

. 
. * Outstock no BIT & EU
. bysort host: egen total_out_no_bit_eu = total(outstock) if bit == 0 & region == "European Union"
(2605 missing values generated)

. 
. bysort host: egen max_total_out_no_bit_eu = max(total_out_no_bit_eu)

. drop total_out_no_bit_eu

. rename max_total_out_no_bit_eu total_out_no_bit_eu

. 
. bysort host: gen share_out_no_bit_eu = total_out_no_bit_eu / total_out
(16 missing values generated)

. 
. * Outstock BIT & EU
. bysort host: egen total_out_bit_eu = total(outstock) if bit == 1 & region == "European Union"
(2525 missing values generated)

. 
. bysort host: egen max_total_out_bit_eu = max(total_out_bit_eu)
(19 missing values generated)

. drop total_out_bit_eu

. rename max_total_out_bit_eu total_out_bit_eu

. 
. bysort host: gen share_out_bit_eu = total_out_bit_eu / total_out
(35 missing values generated)

. 
. * Outstock no BIT & Non-EU
. bysort host: egen total_out_no_bit_non_eu = total(outstock) if bit == 0 & region == "Non-EU"
(1565 missing values generated)

. 
. bysort host: egen max_total_out_no_bit_non_eu = max(total_out_no_bit_non_eu)

. drop total_out_no_bit_non_eu

. rename max_total_out_no_bit_non_eu total_out_no_bit_non_eu

. 
. bysort host: gen share_out_no_bit_non_eu = total_out_no_bit_non_eu / total_out
(16 missing values generated)

. 
. * Outstock BIT & Non-EU
. bysort host: egen total_out_bit_non_eu = total(outstock) if bit == 1 & region == "Non-EU"
(2071 missing values generated)

. 
. bysort host: egen max_total_out_bit_non_eu = max(total_out_bit_non_eu)
(19 missing values generated)

. drop total_out_bit_non_eu

. rename max_total_out_bit_non_eu total_out_bit_non_eu

. 
. bysort host: gen share_out_bit_non_eu = total_out_bit_non_eu / total_out
(35 missing values generated)

. 
. * Outstock table by host
. table host, c(mean share_out_no_bit_eu mean share_out_bit_eu mean share_out_no_bit_non_eu mean shar
> e_out_bit_non_eu) format(%9.4f) center

-------------------------------------------------------------------------------
          host | mean(share_~u)  mean(share_~u)  mean(share_~u)  mean(share_~u)
---------------+---------------------------------------------------------------
       Austria |      0.3384          0.3544          0.1188          0.1884   
       Belgium |      0.6987          0.0191          0.2525          0.0298   
      Bulgaria |      0.1451          0.3892          0.1686          0.2970   
       Croatia |      0.0046          0.1921          0.4254          0.3779   
        Cyprus |     22.3514        -30.3311          8.4730          0.5068   
Czech Republic |      0.2044          0.7572          0.0028          0.0357   
       Denmark |      0.5650          0.0334          0.3231          0.0785   
       Estonia |      0.3291          0.5077          0.0797          0.0836   
       Finland |      0.7682          0.0338          0.1426          0.0555   
        France |      0.5831          0.0294          0.2953          0.0922   
       Germany |      0.2956          0.0195          0.4999          0.1851   
        Greece |      0.2211          0.4756          0.1046          0.1987   
       Hungary |      0.0294          0.6864          0.0592          0.2249   
       Ireland |      0.6512                          0.3488                   
         Italy |      0.7470          0.0014          0.1535          0.0980   
        Latvia |      0.0561          0.5317          0.0773          0.3349   
     Lithuania |      0.0896          0.7499          0.0018          0.1588   
    Luxembourg |      0.0000          0.0000          0.9386          0.0614   
         Malta |                                                               
   Netherlands |      0.5603          0.0271          0.3231          0.0894   
        Poland |      0.0284          0.7444          0.0388          0.1884   
      Portugal |      0.6864          0.0672          0.2320          0.0144   
       Romania |      0.0203          0.4205          0.0171          0.5422   
      Slovakia |      0.6761          0.2007          0.0383          0.0849   
      Slovenia |      0.0290          0.3838          0.1419          0.4453   
         Spain |      0.4753          0.0612          0.2776          0.1858   
        Sweden |      0.5591          0.0593          0.3111          0.0705   
United Kingdom |      0.5331          0.0098          0.3704          0.0867   
-------------------------------------------------------------------------------

. 
. ** Instock **
. * Total
. bysort host: egen total_in = total(instock)

. 
. * Instock no BIT & EU
. bysort host: egen total_in_no_bit_eu = total(instock) if bit == 0 & region == "European Union"
(2605 missing values generated)

. 
. bysort host: egen max_total_in_no_bit_eu = max(total_in_no_bit_eu)

. drop total_in_no_bit_eu

. rename max_total_in_no_bit_eu total_in_no_bit_eu

. 
. bysort host: gen share_in_no_bit_eu = total_in_no_bit_eu / total_in

. 
. * Instock BIT & EU
. bysort host: egen total_in_bit_eu = total(instock) if bit == 1 & region == "European Union"
(2525 missing values generated)

. 
. bysort host: egen max_total_in_bit_eu = max(total_in_bit_eu)
(19 missing values generated)

. drop total_in_bit_eu

. rename max_total_in_bit_eu total_in_bit_eu

. 
. bysort host: gen share_in_bit_eu = total_in_bit_eu / total_in
(19 missing values generated)

. 
. * Instock no BIT & Non-EU
. bysort host: egen total_in_no_bit_non_eu = total(instock) if bit == 0 & region == "Non-EU"
(1565 missing values generated)

. 
. bysort host: egen max_total_in_no_bit_non_eu = max(total_in_no_bit_non_eu)

. drop total_in_no_bit_non_eu

. rename max_total_in_no_bit_non_eu total_in_no_bit_non_eu

. 
. bysort host: gen share_in_no_bit_non_eu = total_in_no_bit_non_eu / total_in

. 
. * Instock BIT & Non-EU
. bysort host: egen total_in_bit_non_eu = total(instock) if bit == 1 & region == "Non-EU"
(2071 missing values generated)

. 
. bysort host: egen max_total_in_bit_non_eu = max(total_in_bit_non_eu)
(19 missing values generated)

. drop total_in_bit_non_eu

. rename max_total_in_bit_non_eu total_in_bit_non_eu

. 
. bysort host: gen share_in_bit_non_eu = total_in_bit_non_eu / total_in
(19 missing values generated)

. 
. * Instock table by host
. table host, c(mean share_in_no_bit_eu mean share_in_bit_eu mean share_in_no_bit_non_eu mean share_i
> n_bit_non_eu) format(%9.4f) center

-------------------------------------------------------------------------------
          host | mean(share_~u)  mean(share_~u)  mean(share_~u)  mean(share_~u)
---------------+---------------------------------------------------------------
       Austria |      0.6429          0.0049          0.2369          0.1153   
       Belgium |      0.8103          0.0118          0.1649          0.0130   
      Bulgaria |      0.0957          0.6986          0.0814          0.1243   
       Croatia |      0.0472          0.8845          0.0333          0.0350   
        Cyprus |      0.3033          0.2504          0.4447          0.0016   
Czech Republic |      0.0430          0.8482          0.0119          0.0969   
       Denmark |      0.6882          0.0094          0.2804          0.0219   
       Estonia |      0.0665          0.7706          0.0694          0.0935   
       Finland |      0.9255          0.0025          0.0627          0.0093   
        France |      0.7361          0.0063          0.2196          0.0381   
       Germany |      0.3126          0.0000          0.6377          0.0496   
        Greece |      0.7910          0.0149          0.1809          0.0132   
       Hungary |     -0.0006          0.8851          0.0389          0.0766   
       Ireland |      0.7717                          0.2283                   
         Italy |      0.8644          0.0039          0.1205          0.0112   
        Latvia |      0.1291          0.6640          0.0755          0.1315   
     Lithuania |      0.0485          0.7254          0.0749          0.1511   
    Luxembourg |      0.0000          0.0000          1.0000          0.0000   
         Malta |      0.0092          0.7256          0.2093          0.0559   
   Netherlands |      0.6395          0.0017          0.3419          0.0168   
        Poland |      0.0992          0.7780          0.0350          0.0877   
      Portugal |      0.8702          0.0400          0.0890          0.0008   
       Romania |      0.0618          0.8315          0.0146          0.0920   
      Slovakia |      0.2111          0.6982          0.0132          0.0775   
      Slovenia |      0.5703          0.3045          0.0267          0.0985   
         Spain |      0.8228          0.0031          0.1494          0.0247   
        Sweden |      0.7879          0.0000          0.2121          0.0000   
United Kingdom |      0.5381          0.0014          0.4350          0.0255   
-------------------------------------------------------------------------------

. 
. 
. ** Outstock EU **
.         * NOTE: EU variable names begin with uppercase 
. 
. gen EU = "EU"

.         
. * Total
. egen Total_outstock = total(outstock)

. 
. * Outstock no BIT & EU
. egen Total_out_no_bit_eu = total(outstock) if bit == 0 & region == "European Union"
(2605 missing values generated)

. 
. egen max_total_out_no_bit_eu = max(Total_out_no_bit_eu)

. drop Total_out_no_bit_eu

. rename max_total_out_no_bit_eu Total_out_no_bit_eu

. 
. gen Share_out_no_bit_eu = Total_out_no_bit_eu / Total_outstock

. 
. * Outstock BIT & EU
. egen Total_out_bit_eu = total(outstock) if bit == 1 & region == "European Union"
(2525 missing values generated)

. 
. egen max_total_out_bit_eu = max(Total_out_bit_eu)

. drop Total_out_bit_eu

. rename max_total_out_bit_eu Total_out_bit_eu

. 
. gen Share_out_bit_eu = Total_out_bit_eu / Total_outstock

. 
. * Outstock no BIT & Non-EU
. egen Total_out_no_bit_non_eu = total(outstock) if bit == 0 & region == "Non-EU"
(1565 missing values generated)

. 
. egen max_total_out_no_bit_non_eu = max(Total_out_no_bit_non_eu)

. drop Total_out_no_bit_non_eu

. rename max_total_out_no_bit_non_eu Total_out_no_bit_non_eu

. 
. gen Share_out_no_bit_non_eu = Total_out_no_bit_non_eu / Total_outstock

. 
. * Outstock BIT & Non-EU
. egen Total_out_bit_non_eu = total(outstock) if bit == 1 & region == "Non-EU"
(2071 missing values generated)

. 
. egen max_total_out_bit_non_eu = max(Total_out_bit_non_eu)

. drop Total_out_bit_non_eu

. rename max_total_out_bit_non_eu Total_out_bit_non_eu

. 
. gen Share_out_bit_non_eu = Total_out_bit_non_eu / Total_outstock

. 
. * Outstock table for EU
. table EU, c(mean Share_out_no_bit_eu mean Share_out_bit_eu mean Share_out_no_bit_non_eu mean Share_
> out_bit_non_eu) format(%9.4f) center

--------------------------------------------------------------------------
       EU | mean(Share_~u)  mean(Share_~u)  mean(Share_~u)  mean(Share_~u)
----------+---------------------------------------------------------------
       EU |  0.5484          0.0438          0.3098          0.0981       
--------------------------------------------------------------------------

. 
. 
. ** Instock EU **
.         * NOTE: EU variable names begin with uppercase
. 
. * Total
. egen Total_instock = total(instock)

. 
. * Instock no BIT & EU
. egen Total_in_no_bit_eu = total(instock) if bit == 0 & region == "European Union"
(2605 missing values generated)

. 
. egen max_total_in_no_bit_eu = max(Total_in_no_bit_eu)

. drop Total_in_no_bit_eu

. rename max_total_in_no_bit_eu Total_in_no_bit_eu

. 
. gen Share_in_no_bit_eu = Total_in_no_bit_eu / Total_instock

. 
. * Instock BIT & EU
. egen Total_in_bit_eu = total(instock) if bit == 1 & region == "European Union"
(2525 missing values generated)

. 
. egen max_total_in_bit_eu = max(Total_in_bit_eu)

. drop Total_in_bit_eu

. rename max_total_in_bit_eu Total_in_bit_eu

. 
. gen Share_in_bit_eu = Total_in_bit_eu / Total_instock

. 
. * Instock no BIT & Non-EU
. egen Total_in_no_bit_non_eu = total(instock) if bit == 0 & region == "Non-EU"
(1565 missing values generated)

. 
. egen max_total_in_no_bit_non_eu = max(Total_in_no_bit_non_eu)

. drop Total_in_no_bit_non_eu

. rename max_total_in_no_bit_non_eu Total_in_no_bit_non_eu

. 
. gen Share_in_no_bit_non_eu = Total_in_no_bit_non_eu / Total_instock

. 
. * Instock BIT & Non-EU
. egen Total_in_bit_non_eu = total(instock) if bit == 1 & region == "Non-EU"
(2071 missing values generated)

. 
. egen max_total_in_bit_non_eu = max(Total_in_bit_non_eu)

. drop Total_in_bit_non_eu

. rename max_total_in_bit_non_eu Total_in_bit_non_eu

. 
. gen Share_in_bit_non_eu = Total_in_bit_non_eu / Total_instock

. 
. * Instock table by host
. table EU, c(mean Share_in_no_bit_eu mean Share_in_bit_eu mean Share_in_no_bit_non_eu mean Share_in_
> bit_non_eu) format(%9.4f) center

--------------------------------------------------------------------------
       EU | mean(Share_~u)  mean(Share_~u)  mean(Share_~u)  mean(Share_~u)
----------+---------------------------------------------------------------
       EU |  0.6302          0.0866          0.2525          0.0307       
--------------------------------------------------------------------------

. 
. ** Labeling **
. label var EU "EU"

. label var host "Host Country"

. label var region "Region"

. label var destination "Destination Country"

. 
. label var inflows "Inflows"

. label var instock "Instock"

. label var outflows "Outflows"

. label var outstock "Outstock"

. 
. label var bit "Bilateral Investment Treaties"

. label var year "Year of entry into force"

. label var status "Status of BIT"

. label var date_of_signature "Date of Signature of BIT"

. label var date_of_entry_into_force "Date of entry into force of BIT"

. 
. * Country-specific variables
. label var total_out "Total Outstock (USD, Millions)"

. label var total_in "Total Instock (USD, Millions)"

. 
. label var share_out_no_bit_eu "No BIT, EU (% Outstock)"

. label var share_out_bit_eu      "BIT, EU (% Outstock)"

. label var share_out_no_bit_non_eu "No BIT, Non-EU (% Outstock)"

. label var share_out_bit_non_eu "Bit, Non-EU (% Outstock)"

. 
. label var share_in_no_bit_eu "No BIT, EU (% Instock)"

. label var share_in_bit_eu       "BIT, EU (% Instock)"

. label var share_in_no_bit_non_eu "No BIT, Non-EU (% Instock)"

. label var share_in_bit_non_eu "Bit, Non-EU (% Instock)"

. 
. label var total_out_no_bit_eu "No BIT, EU (USD, Millions, Outstock)"

. label var total_out_bit_eu "BIT, EU (USD, Millions, Outstock)"

. label var total_out_no_bit_non_eu "No BIT, Non-EU (USD, Millions, Outstock)"

. label var total_out_bit_non_eu "Bit, Non-EU (USD, Millions, Outstock)"

. 
. label var total_in_no_bit_eu "No BIT, EU (USD, Millions, Instock)"

. label var total_in_bit_eu "BIT, EU (USD, Millions, Instock)"

. label var total_in_no_bit_non_eu "No BIT, Non-EU (USD, Millions, Instock)"

. label var total_in_bit_non_eu "Bit, Non-EU (USD, Millions, Instock)"

. 
. * EU variables
. label var Total_outstock "Total Outstock (USD, Millions)"

. label var Total_instock "Total Instock (USD, Millions)"

. 
. label var Share_out_no_bit_eu "No BIT, EU (% Outstock)"

. label var Share_out_bit_eu      "BIT, EU (% Outstock)"

. label var Share_out_no_bit_non_eu "No BIT, Non-EU (% Outstock)"

. label var Share_out_bit_non_eu "Bit, Non-EU (% Outstock)"

. 
. label var Share_in_no_bit_eu "No BIT, EU (% Instock)"

. label var Share_in_bit_eu       "BIT, EU (% Instock)"

. label var Share_in_no_bit_non_eu "No BIT, Non-EU (% Instock)"

. label var Share_in_bit_non_eu "Bit, Non-EU (% Instock)"

. 
. label var Total_out_no_bit_eu "No BIT, EU (USD, Millions, Outstock)"

. label var Total_out_bit_eu "BIT, EU (USD, Millions, Outstock)"

. label var Total_out_no_bit_non_eu "No BIT, Non-EU (USD, Millions, Outstock)"

. label var Total_out_bit_non_eu "Bit, Non-EU (USD, Millions, Outstock)"

. 
. label var Total_in_no_bit_eu "No BIT, EU (USD, Millions, Instock)"

. label var Total_in_bit_eu "BIT, EU (USD, Millions, Instock)"

. label var Total_in_no_bit_non_eu "No BIT, Non-EU (USD, Millions, Instock)"

. label var Total_in_bit_non_eu "Bit, Non-EU (USD, Millions, Instock)"

. 
. 
. * Structuring & saving final dataset
. gsort host region -bit destination

. order EU host region destination inflows instock outflows outstock bit year

. 
. save "${unctd_final}/bit_fdi", replace
file /Users/marcosdemetry/Dropbox/IFN/Programming/Stata_projects/BIT_FDI//data/unctd_final/bit_fdi.dt
> a saved

. 
. log close
      name:  <unnamed>
       log:  /Users/marcosdemetry/Dropbox/IFN/Programming/Stata_projects/BIT_FDI//output/logs/calcula
> ting_bit_fdi.log
  log type:  text
 closed on:   1 Oct 2020, 12:48:30
-----------------------------------------------------------------------------------------------------
